# ğŸš€ 02 â€” CrÃ©ation des VMs Â« Customers Â»

*(Ubuntu Server 24.04 + Rocky Linux 9)*

## ğŸ¯ Objectif

CrÃ©er deux VMs clientes pour servir de base Ã  la future infrastructure :

* **Ubuntu Server 24.04** : serveur principal du lab (services rÃ©seau, durcissement, supervision).
* **Rocky Linux 9** : poste client â€œentrepriseâ€ compatible RHEL, utilisÃ© pour tests Ansible, SELinux et scÃ©narios multi-OS.

Ces VMs sont crÃ©Ã©es mais **non installÃ©es** Ã  ce stade. Ce document trace la prÃ©paration, les paramÃ¨tres retenus et les raisons des choix techniques.

---

# ğŸ§± 1. PrÃ©paration gÃ©nÃ©rale

## 1.1 ISO utilisÃ©es

* `ubuntu-24.04-live-server-amd64.iso`
* `Rocky-9.4-x86_64-minimal.iso`

## 1.2 Organisation du stockage

Les VMs sont stockÃ©es sur mon **disque dur externe**, dans des dossiers dÃ©diÃ©s :

```
/media/theo/Disque-Externe/VMware/Ubuntu-Server-24.04/
/media/theo/Disque-Externe/VMware/RockyLinux-9/
```

ğŸ“Œ *Objectif : garder une structure claire, Ã©viter les mÃ©langes, faciliter les snapshots manuels.*

---

# ğŸ–¥ï¸ 2. VM â€œInfra-Masterâ€ â€“ Ubuntu Server 24.04

## 2.1 Configuration VMware

* **Type** : Ubuntu 64-bit
* **CPU** : 2 vCPU
* **RAM** : 2 Go
* **Disque** : 20â€“40 Go, â€œsingle fileâ€
* **RÃ©seau** : NAT
* **Graphiques** : pas dâ€™accÃ©lÃ©ration 3D (inutilisÃ©e sur serveur)

## 2.2 Ã‰tat actuel

* VM crÃ©Ã©e âœ”ï¸
* Pas encore dâ€™installation
* Snapshot initial **non effectuÃ©** (Ã  faire juste aprÃ¨s installation)

## 2.3 Justification technique

* Ubuntu Server 24.04 = distribution stable, LTS, idÃ©ale pour :

  * DNS (Bind9)
  * reverse proxy (Nginx)
  * monitoring (Prometheus / Node Exporter)
  * automatisation (Ansible)
  * durcissement (UFW, Fail2ban)
* La configuration reste minimale pour limiter la consommation de ressources.

---

# ğŸ§± 3. VM â€œClient-Enterpriseâ€ â€“ Rocky Linux 9

## 3.1 Configuration VMware

* **Type** : Red Hat Enterprise Linux 64-bit
* **CPU** : 1â€“2 vCPU
* **RAM** : 2 Go
* **Disque** : 20 Go
* **RÃ©seau** : NAT
* **Graphiques** : dÃ©sactivÃ©s

## 3.2 Ã‰tat actuel

* VM crÃ©Ã©e âœ”ï¸
* Installation pas encore effectuÃ©e
* Snapshot baseline Ã  prÃ©voir aprÃ¨s installation + update

## 3.3 Justification technique

Rocky 9 simule un environnement RHEL, utilisÃ© dans la plupart des contextes professionnels.

Objectifs :

* travailler avec `dnf`, SELinux, firewalld
* tester Ansible sur un OS diffÃ©rent
* valider compatibilitÃ© rÃ©seau entre distributions
* reproduire un â€œclient entrepriseâ€ rÃ©aliste

---

# ğŸ“ 4. Ã‰tapes prÃ©vues dans la prochaine session

## Pour Ubuntu Server 24.04

1. Lancer installation minimale
2. Activer SSH
3. Faire les mises Ã  jour
4. Installer outils de base (htop, curl, gitâ€¦)
5. Activer et configurer UFW
6. Snapshot baseline

## Pour Rocky Linux 9

1. Installation minimale
2. Mise Ã  jour complÃ¨te
3. Install outils (htop, bind-utilsâ€¦)
4. Activer SSH
5. Snapshot baseline

---

# ğŸ” 5. VÃ©rifications Ã  effectuer

* Les deux VMs dÃ©marrent correctement
* Les cartes rÃ©seau sont configurÃ©es en **NAT**
* Les ISO sont bien attachÃ©es
* La structure des dossiers VMware est propre
* Le Desktop peut tenter de ping les VMs une fois installÃ©es

---

# ğŸ›‘ 6. Points dâ€™attention

* Bien distinguer **poste de travail** (Ubuntu Desktop) et **machines dâ€™infra**
* Ne pas installer de services rÃ©seau sur la VM Desktop
* Ne pas surprovisionner RAM/CPU (objectif : rester rÃ©aliste)
* Toujours crÃ©er un **snapshot baseline** juste aprÃ¨s installation

---

# ğŸ§­ 7. Impact sur la cohÃ©rence du lab

Ces deux VMs constituent les fondations du laboratoire.
La suite de la documentation (rÃ©seau, durcissement, services) se fera **uniquement sur Ubuntu Server** et **Rocky**.
La VM Ubuntu Desktop reste ton **environnement de travail**, pas un serveur.
